2022-08-04 00:18:55 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : Starting SpringCloudGatewayApplication using Java 11.0.15 on rashedul-ThinkPad-X1-Yoga-1st with PID 37731 (/home/rashedul/Project/city-bank/back-end/smb-spring-cloud-gateway/target/classes started by rashedul in /home/rashedul/Project/city-bank/back-end/smb-spring-cloud-gateway)
2022-08-04 00:18:55 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : The following 1 profile is active: "dev"
2022-08-04 00:18:58 INFO   --- [main] c.z.h.HikariDataSource : HikariPool-1 - Starting...
2022-08-04 00:18:58 INFO   --- [main] c.z.h.HikariDataSource : HikariPool-1 - Start completed.
2022-08-04 00:19:40 INFO   --- [main] c.n.d.DiscoveryClient : Initializing Eureka in region us-east-1
2022-08-04 00:19:40 INFO   --- [main] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 00:19:40 INFO   --- [main] c.n.d.DiscoveryClient : Disable delta property : false
2022-08-04 00:19:40 INFO   --- [main] c.n.d.DiscoveryClient : Single vip registry refresh property : null
2022-08-04 00:19:40 INFO   --- [main] c.n.d.DiscoveryClient : Force full registry fetch : false
2022-08-04 00:19:40 INFO   --- [main] c.n.d.DiscoveryClient : Application is null : false
2022-08-04 00:19:40 INFO   --- [main] c.n.d.DiscoveryClient : Registered Applications size is zero : true
2022-08-04 00:19:40 INFO   --- [main] c.n.d.DiscoveryClient : Application version is -1: true
2022-08-04 00:19:40 INFO   --- [main] c.n.d.DiscoveryClient : Getting all instance registry info from the eureka server
2022-08-04 00:19:41 INFO   --- [main] c.n.d.DiscoveryClient : The response status is 200
2022-08-04 00:19:41 INFO   --- [main] c.n.d.DiscoveryClient : Starting heartbeat executor: renew interval is: 30
2022-08-04 00:19:41 INFO   --- [main] c.n.d.InstanceInfoReplicator : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-08-04 00:19:41 INFO   --- [main] c.n.d.DiscoveryClient : Discovery Client initialized at timestamp 1659550781924 with initial instances count: 0
2022-08-04 00:19:41 INFO   --- [main] c.n.d.DiscoveryClient : Saw local status change event StatusChangeEvent [timestamp=1659550781943, current=UP, previous=STARTING]
2022-08-04 00:19:41 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081: registering service...
2022-08-04 00:19:42 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081 - registration status: 204
2022-08-04 00:19:42 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : Started SpringCloudGatewayApplication in 48.373 seconds (JVM running for 49.32)
2022-08-04 00:20:11 INFO   --- [DiscoveryClient-CacheRefreshExecutor-0] c.n.d.DiscoveryClient : Disable delta property : false
2022-08-04 00:20:11 INFO   --- [DiscoveryClient-CacheRefreshExecutor-0] c.n.d.DiscoveryClient : Single vip registry refresh property : null
2022-08-04 00:20:11 INFO   --- [DiscoveryClient-CacheRefreshExecutor-0] c.n.d.DiscoveryClient : Force full registry fetch : false
2022-08-04 00:20:11 INFO   --- [DiscoveryClient-CacheRefreshExecutor-0] c.n.d.DiscoveryClient : Application is null : false
2022-08-04 00:20:11 INFO   --- [DiscoveryClient-CacheRefreshExecutor-0] c.n.d.DiscoveryClient : Registered Applications size is zero : true
2022-08-04 00:20:11 INFO   --- [DiscoveryClient-CacheRefreshExecutor-0] c.n.d.DiscoveryClient : Application version is -1: false
2022-08-04 00:20:11 INFO   --- [DiscoveryClient-CacheRefreshExecutor-0] c.n.d.DiscoveryClient : Getting all instance registry info from the eureka server
2022-08-04 00:20:11 INFO   --- [DiscoveryClient-CacheRefreshExecutor-0] c.n.d.DiscoveryClient : The response status is 200
2022-08-04 00:22:29 INFO   --- [http-nio-8081-exec-1] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:22:29 ERROR  --- [http-nio-8081-exec-1] o.s.w.s.a.HttpWebHandlerAdapter : [1d9f4fb3] 500 Server Error for HTTP GET "/ratings/users/1"
java.lang.NullPointerException: null
	at service.com.smb.springcloudgateway.GlobalExceptionHandleService.errorHandle(GlobalExceptionHandleService.java:20)
	at exception.config.com.smb.springcloudgateway.GlobalExceptionHandler.handle(GlobalExceptionHandler.java:41)
	at org.springframework.web.server.handler.ExceptionHandlingWebHandler.lambda$handle$0(ExceptionHandlingWebHandler.java:77)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)
	at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:195)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:278)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:136)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:48)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onNext(MonoFilterWhen.java:149)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)
	at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onSubscribe(MonoFilterWhen.java:112)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:98)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:44)
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:272)
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.request(FluxDematerialize.java:127)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:236)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onSubscribe(FluxDematerialize.java:77)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:203)
	at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4385)
	at org.springframework.http.server.reactive.ServletHttpHandlerAdapter.service(ServletHttpHandlerAdapter.java:198)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
	Suppressed: java.util.NoSuchElementException: No value present
		at java.base/java.util.Optional.get(Optional.java:148)
		Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ HTTP GET "/ratings/users/1" [ExceptionHandlingWebHandler]
Original Stack Trace:
			at java.base/java.util.Optional.get(Optional.java:148)
			at service.com.smb.springcloudgateway.GlobalFilterSecurityService.validateToken(GlobalFilterSecurityService.java:60)
			at service.com.smb.springcloudgateway.GlobalFilterSecurityService$$FastClassBySpringCGLIB$$bf7ef57f.invoke(<generated>)
			at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
			at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
			at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
			at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
			at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
			at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
			at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
			at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
			at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
			at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
			at service.com.smb.springcloudgateway.GlobalFilterSecurityService$$EnhancerBySpringCGLIB$$6c8c618d.validateToken(<generated>)
			at gateway.config.com.smb.springcloudgateway.FirstPreLastPostGlobalFilter.filter(FirstPreLastPostGlobalFilter.java:75)
			at org.springframework.cloud.gateway.handler.FilteringWebHandler$GatewayFilterAdapter.filter(FilteringWebHandler.java:137)
			at org.springframework.cloud.gateway.filter.OrderedGatewayFilter.filter(OrderedGatewayFilter.java:44)
			at org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain.lambda$filter$0(FilteringWebHandler.java:117)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:44)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
			at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
			at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)
			at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
			at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
			at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
			at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
			at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
			at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
			at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)
			at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
			at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
			at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
			at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
			at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
			at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
			at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onNext(MonoFilterWhen.java:149)
			at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)
			at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onSubscribe(MonoFilterWhen.java:112)
			at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:98)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:44)
			at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:272)
			at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.request(FluxDematerialize.java:127)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:236)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onSubscribe(FluxDematerialize.java:77)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
			at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)
			at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
			at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:203)
			at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4385)
			at org.springframework.http.server.reactive.ServletHttpHandlerAdapter.service(ServletHttpHandlerAdapter.java:198)
			at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
			at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
			at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
			at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
			at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
			at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
			at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
			at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
			at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
			at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
			at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
			at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
			at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
			at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
			at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
			at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
			at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
			at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
			at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
			at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
			at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-04 00:23:47 INFO   --- [http-nio-8081-exec-2] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:23:47 ERROR  --- [http-nio-8081-exec-2] o.s.w.s.a.HttpWebHandlerAdapter : [76abf4ae] 500 Server Error for HTTP GET "/ratings/users/1"
java.lang.NullPointerException: null
	at service.com.smb.springcloudgateway.GlobalExceptionHandleService.errorHandle(GlobalExceptionHandleService.java:20)
	at exception.config.com.smb.springcloudgateway.GlobalExceptionHandler.handle(GlobalExceptionHandler.java:41)
	at org.springframework.web.server.handler.ExceptionHandlingWebHandler.lambda$handle$0(ExceptionHandlingWebHandler.java:77)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)
	at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:195)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:278)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:136)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:48)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onNext(MonoFilterWhen.java:149)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)
	at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onSubscribe(MonoFilterWhen.java:112)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:98)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:44)
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:272)
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.request(FluxDematerialize.java:127)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:236)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onSubscribe(FluxDematerialize.java:77)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:203)
	at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4385)
	at org.springframework.http.server.reactive.ServletHttpHandlerAdapter.service(ServletHttpHandlerAdapter.java:198)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
	Suppressed: java.util.NoSuchElementException: No value present
		at java.base/java.util.Optional.get(Optional.java:148)
		Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ HTTP GET "/ratings/users/1" [ExceptionHandlingWebHandler]
Original Stack Trace:
			at java.base/java.util.Optional.get(Optional.java:148)
			at service.com.smb.springcloudgateway.GlobalFilterSecurityService.validateToken(GlobalFilterSecurityService.java:60)
			at service.com.smb.springcloudgateway.GlobalFilterSecurityService$$FastClassBySpringCGLIB$$bf7ef57f.invoke(<generated>)
			at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
			at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
			at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
			at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
			at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
			at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
			at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
			at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
			at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
			at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
			at service.com.smb.springcloudgateway.GlobalFilterSecurityService$$EnhancerBySpringCGLIB$$6c8c618d.validateToken(<generated>)
			at gateway.config.com.smb.springcloudgateway.FirstPreLastPostGlobalFilter.filter(FirstPreLastPostGlobalFilter.java:75)
			at org.springframework.cloud.gateway.handler.FilteringWebHandler$GatewayFilterAdapter.filter(FilteringWebHandler.java:137)
			at org.springframework.cloud.gateway.filter.OrderedGatewayFilter.filter(OrderedGatewayFilter.java:44)
			at org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain.lambda$filter$0(FilteringWebHandler.java:117)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:44)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
			at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
			at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)
			at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
			at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
			at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
			at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
			at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
			at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
			at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)
			at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
			at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
			at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
			at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
			at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
			at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
			at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onNext(MonoFilterWhen.java:149)
			at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)
			at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onSubscribe(MonoFilterWhen.java:112)
			at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:98)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:44)
			at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:272)
			at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.request(FluxDematerialize.java:127)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:236)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onSubscribe(FluxDematerialize.java:77)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
			at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)
			at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
			at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:203)
			at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4385)
			at org.springframework.http.server.reactive.ServletHttpHandlerAdapter.service(ServletHttpHandlerAdapter.java:198)
			at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
			at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
			at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
			at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
			at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
			at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
			at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
			at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
			at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
			at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
			at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
			at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
			at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
			at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
			at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
			at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
			at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
			at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
			at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
			at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
			at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-04 00:24:40 INFO   --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 00:25:47 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Saw local status change event StatusChangeEvent [timestamp=1659551147201, current=DOWN, previous=UP]
2022-08-04 00:25:47 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081: registering service...
2022-08-04 00:25:47 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081 - registration status: 204
2022-08-04 00:25:47 INFO   --- [SpringApplicationShutdownHook] c.z.h.HikariDataSource : HikariPool-1 - Shutdown initiated...
2022-08-04 00:25:47 INFO   --- [SpringApplicationShutdownHook] c.z.h.HikariDataSource : HikariPool-1 - Shutdown completed.
2022-08-04 00:25:47 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Shutting down DiscoveryClient ...
2022-08-04 00:25:50 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Unregistering ...
2022-08-04 00:25:50 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081 - deregister  status: 200
2022-08-04 00:25:50 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Completed shut down of DiscoveryClient
2022-08-04 00:25:58 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : Starting SpringCloudGatewayApplication using Java 11.0.15 on rashedul-ThinkPad-X1-Yoga-1st with PID 38808 (/home/rashedul/Project/city-bank/back-end/smb-spring-cloud-gateway/target/classes started by rashedul in /home/rashedul/Project/city-bank/back-end/smb-spring-cloud-gateway)
2022-08-04 00:25:58 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : The following 1 profile is active: "dev"
2022-08-04 00:26:02 INFO   --- [main] c.z.h.HikariDataSource : HikariPool-1 - Starting...
2022-08-04 00:26:02 INFO   --- [main] c.z.h.HikariDataSource : HikariPool-1 - Start completed.
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : Initializing Eureka in region us-east-1
2022-08-04 00:26:36 INFO   --- [main] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : Disable delta property : false
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : Single vip registry refresh property : null
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : Force full registry fetch : false
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : Application is null : false
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : Registered Applications size is zero : true
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : Application version is -1: true
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : Getting all instance registry info from the eureka server
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : The response status is 200
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : Starting heartbeat executor: renew interval is: 30
2022-08-04 00:26:36 INFO   --- [main] c.n.d.InstanceInfoReplicator : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : Discovery Client initialized at timestamp 1659551196963 with initial instances count: 1
2022-08-04 00:26:36 INFO   --- [main] c.n.d.DiscoveryClient : Saw local status change event StatusChangeEvent [timestamp=1659551196976, current=UP, previous=STARTING]
2022-08-04 00:26:36 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081: registering service...
2022-08-04 00:26:37 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081 - registration status: 204
2022-08-04 00:26:37 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : Started SpringCloudGatewayApplication in 40.513 seconds (JVM running for 41.989)
2022-08-04 00:27:40 INFO   --- [http-nio-8081-exec-1] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:27:40 ERROR  --- [http-nio-8081-exec-1] o.s.w.s.a.HttpWebHandlerAdapter : [51fa212e] 500 Server Error for HTTP GET "/ratings/users/1"
java.lang.NullPointerException: null
	at service.com.smb.springcloudgateway.GlobalExceptionHandleService.errorHandle(GlobalExceptionHandleService.java:20)
	at exception.config.com.smb.springcloudgateway.GlobalExceptionHandler.handle(GlobalExceptionHandler.java:41)
	at org.springframework.web.server.handler.ExceptionHandlingWebHandler.lambda$handle$0(ExceptionHandlingWebHandler.java:77)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:94)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:106)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoError.subscribe(MonoError.java:53)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onError(FluxOnErrorResume.java:103)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.FluxPeek$PeekSubscriber.onError(FluxPeek.java:222)
	at reactor.core.publisher.FluxDoOnEach$DoOnEachSubscriber.onError(FluxDoOnEach.java:195)
	at reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onError(FluxOnAssembly.java:544)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onError(MonoFlatMap.java:172)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.secondError(MonoFlatMap.java:192)
	at reactor.core.publisher.MonoFlatMap$FlatMapInner.onError(MonoFlatMap.java:259)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.onError(MonoIgnoreThen.java:278)
	at reactor.core.publisher.FluxDoFinally$DoFinallySubscriber.onError(FluxDoFinally.java:136)
	at reactor.core.publisher.Operators.error(Operators.java:198)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:48)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
	at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)
	at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
	at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
	at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
	at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
	at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
	at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
	at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onNext(MonoFilterWhen.java:149)
	at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)
	at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onSubscribe(MonoFilterWhen.java:112)
	at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:98)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:44)
	at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:272)
	at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.request(FluxDematerialize.java:127)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:236)
	at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onSubscribe(FluxDematerialize.java:77)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
	at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)
	at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
	at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
	at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
	at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
	at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
	at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:203)
	at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)
	at reactor.core.publisher.Mono.subscribe(Mono.java:4385)
	at org.springframework.http.server.reactive.ServletHttpHandlerAdapter.service(ServletHttpHandlerAdapter.java:198)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:829)
	Suppressed: java.util.NoSuchElementException: No value present
		at java.base/java.util.Optional.get(Optional.java:148)
		Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException: 
Error has been observed at the following site(s):
	*__checkpoint ⇢ org.springframework.cloud.gateway.filter.WeightCalculatorWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]
	*__checkpoint ⇢ HTTP GET "/ratings/users/1" [ExceptionHandlingWebHandler]
Original Stack Trace:
			at java.base/java.util.Optional.get(Optional.java:148)
			at service.com.smb.springcloudgateway.GlobalFilterSecurityService.validateToken(GlobalFilterSecurityService.java:60)
			at service.com.smb.springcloudgateway.GlobalFilterSecurityService$$FastClassBySpringCGLIB$$bf7ef57f.invoke(<generated>)
			at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
			at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)
			at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
			at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
			at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
			at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
			at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
			at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
			at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)
			at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)
			at service.com.smb.springcloudgateway.GlobalFilterSecurityService$$EnhancerBySpringCGLIB$$5130761d.validateToken(<generated>)
			at gateway.config.com.smb.springcloudgateway.FirstPreLastPostGlobalFilter.filter(FirstPreLastPostGlobalFilter.java:75)
			at org.springframework.cloud.gateway.handler.FilteringWebHandler$GatewayFilterAdapter.filter(FilteringWebHandler.java:137)
			at org.springframework.cloud.gateway.filter.OrderedGatewayFilter.filter(OrderedGatewayFilter.java:44)
			at org.springframework.cloud.gateway.handler.FilteringWebHandler$DefaultGatewayFilterChain.lambda$filter$0(FilteringWebHandler.java:117)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:44)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
			at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
			at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:157)
			at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
			at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
			at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
			at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
			at reactor.core.publisher.FluxSwitchIfEmpty$SwitchIfEmptySubscriber.onNext(FluxSwitchIfEmpty.java:74)
			at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
			at reactor.core.publisher.MonoFlatMap$FlatMapMain.onNext(MonoFlatMap.java:151)
			at reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:120)
			at reactor.core.publisher.MonoNext$NextSubscriber.onNext(MonoNext.java:82)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.innerNext(FluxConcatMap.java:282)
			at reactor.core.publisher.FluxConcatMap$ConcatMapInner.onNext(FluxConcatMap.java:863)
			at reactor.core.publisher.FluxOnErrorResume$ResumeSubscriber.onNext(FluxOnErrorResume.java:79)
			at reactor.core.publisher.MonoPeekTerminal$MonoTerminalPeekSubscriber.onNext(MonoPeekTerminal.java:180)
			at reactor.core.publisher.Operators$MonoSubscriber.complete(Operators.java:1816)
			at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onNext(MonoFilterWhen.java:149)
			at reactor.core.publisher.Operators$ScalarSubscription.request(Operators.java:2398)
			at reactor.core.publisher.MonoFilterWhen$MonoFilterWhenMain.onSubscribe(MonoFilterWhen.java:112)
			at reactor.core.publisher.MonoJust.subscribe(MonoJust.java:55)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onNext(FluxConcatMap.java:251)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:98)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onNext(FluxDematerialize.java:44)
			at reactor.core.publisher.FluxIterable$IterableSubscription.slowPath(FluxIterable.java:272)
			at reactor.core.publisher.FluxIterable$IterableSubscription.request(FluxIterable.java:230)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.request(FluxDematerialize.java:127)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:236)
			at reactor.core.publisher.FluxDematerialize$DematerializeSubscriber.onSubscribe(FluxDematerialize.java:77)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
			at reactor.core.publisher.InternalFluxOperator.subscribe(InternalFluxOperator.java:62)
			at reactor.core.publisher.FluxDefer.subscribe(FluxDefer.java:54)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.drain(FluxConcatMap.java:451)
			at reactor.core.publisher.FluxConcatMap$ConcatMapImmediate.onSubscribe(FluxConcatMap.java:219)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:165)
			at reactor.core.publisher.FluxIterable.subscribe(FluxIterable.java:87)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.InternalMonoOperator.subscribe(InternalMonoOperator.java:64)
			at reactor.core.publisher.MonoDefer.subscribe(MonoDefer.java:52)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.MonoIgnoreThen$ThenIgnoreMain.subscribeNext(MonoIgnoreThen.java:263)
			at reactor.core.publisher.MonoIgnoreThen.subscribe(MonoIgnoreThen.java:51)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4400)
			at reactor.core.publisher.FluxFlatMap.trySubscribeScalarMap(FluxFlatMap.java:203)
			at reactor.core.publisher.MonoFlatMap.subscribeOrReturn(MonoFlatMap.java:53)
			at reactor.core.publisher.Mono.subscribe(Mono.java:4385)
			at org.springframework.http.server.reactive.ServletHttpHandlerAdapter.service(ServletHttpHandlerAdapter.java:198)
			at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
			at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
			at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
			at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
			at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
			at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
			at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
			at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
			at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
			at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
			at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
			at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
			at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
			at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
			at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)
			at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
			at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
			at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
			at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
			at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
			at java.base/java.lang.Thread.run(Thread.java:829)
2022-08-04 00:28:44 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Saw local status change event StatusChangeEvent [timestamp=1659551324337, current=DOWN, previous=UP]
2022-08-04 00:28:44 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081: registering service...
2022-08-04 00:28:44 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081 - registration status: 204
2022-08-04 00:28:44 INFO   --- [SpringApplicationShutdownHook] c.z.h.HikariDataSource : HikariPool-1 - Shutdown initiated...
2022-08-04 00:28:44 INFO   --- [SpringApplicationShutdownHook] c.z.h.HikariDataSource : HikariPool-1 - Shutdown completed.
2022-08-04 00:28:44 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Shutting down DiscoveryClient ...
2022-08-04 00:29:00 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : Starting SpringCloudGatewayApplication using Java 11.0.15 on rashedul-ThinkPad-X1-Yoga-1st with PID 39248 (/home/rashedul/Project/city-bank/back-end/smb-spring-cloud-gateway/target/classes started by rashedul in /home/rashedul/Project/city-bank/back-end/smb-spring-cloud-gateway)
2022-08-04 00:29:00 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : The following 1 profile is active: "dev"
2022-08-04 00:29:04 INFO   --- [main] c.z.h.HikariDataSource : HikariPool-1 - Starting...
2022-08-04 00:29:04 INFO   --- [main] c.z.h.HikariDataSource : HikariPool-1 - Start completed.
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : Initializing Eureka in region us-east-1
2022-08-04 00:29:40 INFO   --- [main] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : Disable delta property : false
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : Single vip registry refresh property : null
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : Force full registry fetch : false
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : Application is null : false
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : Registered Applications size is zero : true
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : Application version is -1: true
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : Getting all instance registry info from the eureka server
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : The response status is 200
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : Starting heartbeat executor: renew interval is: 30
2022-08-04 00:29:40 INFO   --- [main] c.n.d.InstanceInfoReplicator : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : Discovery Client initialized at timestamp 1659551380941 with initial instances count: 2
2022-08-04 00:29:40 INFO   --- [main] c.n.d.DiscoveryClient : Saw local status change event StatusChangeEvent [timestamp=1659551380953, current=UP, previous=STARTING]
2022-08-04 00:29:40 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081: registering service...
2022-08-04 00:29:40 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081 - registration status: 204
2022-08-04 00:29:41 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : Started SpringCloudGatewayApplication in 41.828 seconds (JVM running for 42.859)
2022-08-04 00:30:08 INFO   --- [http-nio-8081-exec-1] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:33:49 INFO   --- [http-nio-8081-exec-3] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:34:23 INFO   --- [http-nio-8081-exec-5] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:34:40 INFO   --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 00:36:34 INFO   --- [http-nio-8081-exec-7] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:38:11 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Saw local status change event StatusChangeEvent [timestamp=1659551891058, current=DOWN, previous=UP]
2022-08-04 00:38:11 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081: registering service...
2022-08-04 00:38:11 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081 - registration status: 204
2022-08-04 00:38:11 INFO   --- [SpringApplicationShutdownHook] c.z.h.HikariDataSource : HikariPool-1 - Shutdown initiated...
2022-08-04 00:38:11 INFO   --- [SpringApplicationShutdownHook] c.z.h.HikariDataSource : HikariPool-1 - Shutdown completed.
2022-08-04 00:38:11 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Shutting down DiscoveryClient ...
2022-08-04 00:38:14 WARN   --- [DiscoveryClient-0] c.n.d.TimedSupervisorTask : task supervisor shutting down, can't accept the task
2022-08-04 00:38:14 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Unregistering ...
2022-08-04 00:38:14 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081 - deregister  status: 200
2022-08-04 00:38:14 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Completed shut down of DiscoveryClient
2022-08-04 00:38:21 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : Starting SpringCloudGatewayApplication using Java 11.0.15 on rashedul-ThinkPad-X1-Yoga-1st with PID 40321 (/home/rashedul/Project/city-bank/back-end/smb-spring-cloud-gateway/target/classes started by rashedul in /home/rashedul/Project/city-bank/back-end/smb-spring-cloud-gateway)
2022-08-04 00:38:21 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : The following 1 profile is active: "dev"
2022-08-04 00:38:24 INFO   --- [main] c.z.h.HikariDataSource : HikariPool-1 - Starting...
2022-08-04 00:38:24 INFO   --- [main] c.z.h.HikariDataSource : HikariPool-1 - Start completed.
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : Initializing Eureka in region us-east-1
2022-08-04 00:38:58 INFO   --- [main] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : Disable delta property : false
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : Single vip registry refresh property : null
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : Force full registry fetch : false
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : Application is null : false
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : Registered Applications size is zero : true
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : Application version is -1: true
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : Getting all instance registry info from the eureka server
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : The response status is 200
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : Starting heartbeat executor: renew interval is: 30
2022-08-04 00:38:58 INFO   --- [main] c.n.d.InstanceInfoReplicator : InstanceInfoReplicator onDemand update allowed rate per min is 4
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : Discovery Client initialized at timestamp 1659551938802 with initial instances count: 1
2022-08-04 00:38:58 INFO   --- [main] c.n.d.DiscoveryClient : Saw local status change event StatusChangeEvent [timestamp=1659551938814, current=UP, previous=STARTING]
2022-08-04 00:38:58 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081: registering service...
2022-08-04 00:38:58 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081 - registration status: 204
2022-08-04 00:38:59 INFO   --- [main] c.b.s.SpringCloudGatewayApplication : Started SpringCloudGatewayApplication in 38.906 seconds (JVM running for 39.717)
2022-08-04 00:39:17 INFO   --- [http-nio-8081-exec-1] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:39:17 INFO   --- [reactor-http-epoll-2] c.b.s.c.g.FirstPreLastPostGlobalFilter : Last Post Global Filter
2022-08-04 00:43:58 INFO   --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 00:47:14 INFO   --- [http-nio-8081-exec-4] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:47:14 INFO   --- [reactor-http-epoll-3] c.b.s.c.g.FirstPreLastPostGlobalFilter : Last Post Global Filter
2022-08-04 00:48:24 INFO   --- [http-nio-8081-exec-7] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:48:24 INFO   --- [reactor-http-epoll-4] c.b.s.c.g.FirstPreLastPostGlobalFilter : Last Post Global Filter
2022-08-04 00:48:58 INFO   --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 00:50:54 INFO   --- [http-nio-8081-exec-10] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:50:54 INFO   --- [reactor-http-epoll-1] c.b.s.c.g.FirstPreLastPostGlobalFilter : Last Post Global Filter
2022-08-04 00:51:56 INFO   --- [http-nio-8081-exec-3] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:51:56 INFO   --- [reactor-http-epoll-2] c.b.s.c.g.FirstPreLastPostGlobalFilter : Last Post Global Filter
2022-08-04 00:53:52 INFO   --- [http-nio-8081-exec-6] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 00:53:52 INFO   --- [reactor-http-epoll-3] c.b.s.c.g.FirstPreLastPostGlobalFilter : Last Post Global Filter
2022-08-04 00:53:58 INFO   --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 00:58:58 INFO   --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 01:03:48 INFO   --- [http-nio-8081-exec-10] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 01:03:49 INFO   --- [http-nio-8081-exec-1] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 01:03:49 INFO   --- [reactor-http-epoll-1] c.b.s.c.g.FirstPreLastPostGlobalFilter : Last Post Global Filter
2022-08-04 01:03:49 INFO   --- [reactor-http-epoll-4] c.b.s.c.g.FirstPreLastPostGlobalFilter : Last Post Global Filter
2022-08-04 01:03:58 INFO   --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 01:05:14 INFO   --- [http-nio-8081-exec-7] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 01:05:14 WARN   --- [http-nio-8081-exec-7] o.s.c.l.c.RoundRobinLoadBalancer : No servers available for service: movie-catalog-service
2022-08-04 01:06:12 INFO   --- [http-nio-8081-exec-8] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 01:06:13 INFO   --- [http-nio-8081-exec-9] c.b.s.c.g.FirstPreLastPostGlobalFilter : Pre-Filter executed
2022-08-04 01:06:13 INFO   --- [reactor-http-epoll-3] c.b.s.c.g.FirstPreLastPostGlobalFilter : Last Post Global Filter
2022-08-04 01:06:14 INFO   --- [reactor-http-epoll-2] c.b.s.c.g.FirstPreLastPostGlobalFilter : Last Post Global Filter
2022-08-04 01:08:58 INFO   --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.a.ConfigClusterResolver : Resolving eureka endpoints via configuration
2022-08-04 01:09:42 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Saw local status change event StatusChangeEvent [timestamp=1659553782256, current=DOWN, previous=UP]
2022-08-04 01:09:42 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081: registering service...
2022-08-04 01:09:42 INFO   --- [DiscoveryClient-InstanceInfoReplicator-0] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081 - registration status: 204
2022-08-04 01:09:42 INFO   --- [SpringApplicationShutdownHook] c.z.h.HikariDataSource : HikariPool-1 - Shutdown initiated...
2022-08-04 01:09:42 INFO   --- [SpringApplicationShutdownHook] c.z.h.HikariDataSource : HikariPool-1 - Shutdown completed.
2022-08-04 01:09:42 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Shutting down DiscoveryClient ...
2022-08-04 01:09:45 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Unregistering ...
2022-08-04 01:09:45 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : DiscoveryClient_SMB-API-GATEWAY/192.168.0.11:smb-api-gateway:8081 - deregister  status: 200
2022-08-04 01:09:45 INFO   --- [SpringApplicationShutdownHook] c.n.d.DiscoveryClient : Completed shut down of DiscoveryClient
